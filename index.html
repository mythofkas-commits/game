<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRESIDENT SIMULATOR: Total Chaos Edition</title>
    <link rel="stylesheet" href="assets/styles.css">
</head>
<body>
    <!-- INTRO SCREEN -->
    <div class="intro-screen" id="introScreen">
        <div class="presidential-seal">
            <div style="font-size: 60px;">🟠</div>
            <div style="font-size: 48px;">👤</div>
            <div style="font-size: 14px; font-weight: bold; color: #b8860b;">POTUS</div>
        </div>
        <h1 class="game-title">PRESIDENT SIMULATOR</h1>
        <h2 style="color: #ff0000; margin-bottom: 30px;">TOTAL CHAOS EDITION</h2>
        <button class="start-presidency-btn" onclick="startPresidency()">BEGIN PRESIDENCY</button>
    </div>

    <!-- MAIN GAME -->
    <div class="game-container" id="gameContainer">
        <div class="status-bar">
            <div>📅 Day: <span id="day">1</span></div>
            <div>⚡ Energy: <span id="energy">100</span></div>
            <div>🌪️ Chaos: <span id="chaos">0</span></div>
            <div>🏆 Score: <span id="score">0</span></div>
        </div>

        <div class="status-explainer">
            <p><strong>Energy</strong> is your remaining political capital and staff bandwidth. Run out and aggressive responses will be locked until it recovers.</p>
            <p><strong>Chaos</strong> tracks how unstable the nation feels. High chaos invites wilder crises and rewards but makes control harder.</p>
        </div>

        <!-- REAL-TIME NEWS TICKER -->
        <div class="news-ticker" id="newsTicker">
            <div class="news-ticker-content" id="newsTickerContent">
                <span class="news-item">📡 Loading real political news...</span>
            </div>
        </div>

        <!-- POWER CENTERS + TWITTER SIDE BY SIDE -->
        <div class="top-panels-container">
            <!-- POWER CENTERS - THE CORE SYSTEM -->
            <div class="power-centers-panel">
                <h3 style="color: #ffd700; margin-bottom: 10px;">🎯 POWER CENTERS</h3>
                <p style="color: #aaa; font-size: 13px; margin-bottom: 15px;">
                    Your decisions affect these power centers. Watch for cascading effects!
                </p>
                <div class="power-centers-grid" id="powerCentersGrid"></div>
                <div class="coalition-status" id="coalitionStatus">
                    📊 Political Balance Maintained
                </div>
            </div>

            <!-- TWEET STORM SYSTEM -->
            <div class="tweet-panel">
                <h3 style="color: #fff; margin-bottom: 15px;">🐦 TWEET STORM</h3>
                <textarea class="tweet-input" id="tweetInput" 
                       placeholder="What's on your mind, Mr. President?" maxlength="280"></textarea>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <button class="tweet-btn" onclick="game.sendTweet()">
                        📤 SEND TWEET
                    </button>
                    <span style="font-size: 11px; color: rgba(255,255,255,0.7);">
                        Press Enter to send
                    </span>
                </div>
                <div class="tweet-feedback-container" id="tweetFeedback"></div>
            </div>
        </div>

        <!-- CRISIS PANEL -->
        <div class="crisis-panel" id="crisisPanel" data-testid="crisis-panel">
            <h2 id="crisisTitle" style="color: #ff0000; margin-bottom: 10px;">Crisis Loading...</h2>
            <div id="affectedCenters"></div>
            <p id="crisisDescription" style="color: #ddd; margin: 15px 0;">Preparing situation...</p>
            <div id="crisisOptions" data-testid="crisis-options"></div>
            <button class="decision-btn" style="background: #1da1f2; color: #fff; margin-top: 15px;" 
                    onclick="game.startPressConference()">
                📺 Hold Press Conference
            </button>
        </div>

        <!-- KEY RELATIONSHIPS -->
        <div class="relationships-panel">
            <h3 style="color: #ffd700; margin-bottom: 10px;">📞 KEY RELATIONSHIPS</h3>
            <p style="color: #aaa; font-size: 13px; margin-bottom: 15px;">
                Click to negotiate. Low trust = potential betrayal.
            </p>
            <div class="relationships-grid" id="relationshipsGrid"></div>
        </div>
    </div>

    <!-- PRESS CONFERENCE -->
    <div class="press-conference" id="pressConference">
        <button class="close-btn" onclick="game.endPressConference()">X</button>
        <h3 style="color: #ffd700; margin-bottom: 15px;">📺 PRESS CONFERENCE</h3>
        <div id="currentQuestion" style="color: #fff; margin-bottom: 15px; font-style: italic;"></div>
        <div class="reporters-row" id="reportersRow"></div>
        <div class="response-options">
            <button class="response-btn" onclick="game.pressResponse('attack')">⚔️ ATTACK</button>
            <button class="response-btn" onclick="game.pressResponse('deflect')">🛡️ DEFLECT</button>
            <button class="response-btn" onclick="game.pressResponse('answer')">💬 ANSWER</button>
            <button class="response-btn" onclick="game.pressResponse('joke')">😂 JOKE</button>
        </div>
    </div>

    <!-- POWER NOTIFICATIONS CONTAINER -->
    <div class="power-notifications-container" id="powerNotifications"></div>

    <script type="module" src="assets/game.js"></script>
</body>
</html>
